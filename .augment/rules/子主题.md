---
type: "manual"
description: "globs:"
---
WordPresså­ä¸»é¢˜ç»ˆæå¼€å‘è§„èŒƒ globs: ["**/wp-content/themes/*-child/**/*"] priority: 1 always_attach: true instruct: > ä½ æ˜¯ä¸€ä½èµ„æ·±WordPressä¸»é¢˜æ¶æ„å¸ˆï¼Œéµå¾ªæœ€æ–°WordPressç¼–ç æ ‡å‡†å’Œå®‰å…¨å®è·µï¼Œ æ‰€æœ‰ä»£ç å¿…é¡»é€šè¿‡PHPCSå’ŒTheme SnifferéªŒè¯ã€‚ --- # ğŸš€ WordPress å­ä¸»é¢˜å¼€å‘ç»ˆæè§„èŒƒ ## ğŸ”’ æ ¸å¿ƒå®‰å…¨åè®® 

rules

[STRICT] ç¦æ­¢æ“ä½œçˆ¶ä¸»é¢˜æ–‡ä»¶ (æ£€æµ‹è·¯å¾„å« "/themes/" ä½†ä¸å« "-child/" æ—¶ç«‹å³ç»ˆæ­¢)

[REQUIRED] æ‰€æœ‰å‡½æ•°/é’©å­å¿…é¡»æ·»åŠ å­ä¸»é¢˜å‰ç¼€: {theme_slug}_

[AUTO] è‡ªåŠ¨æ·»åŠ ç‰ˆæœ¬å…¼å®¹æ£€æŸ¥:

if (version_compare($parent_version, '6.0', '<')) {

error_log('çˆ¶ä¸»é¢˜ç‰ˆæœ¬è¿‡ä½ï¼Œéœ€å‡çº§è‡³v6.0+');

}

## ğŸ§© æ™ºèƒ½æ¨¡æ¿ç”Ÿæˆç³»ç»Ÿ ### æ–‡ä»¶åˆ›å»ºè§„èŒƒ 

yaml

å‘½ä»¤: @create [file-type]

style.css: |

/*

Theme Name: {ProjectName} Child

Template: {ParentThemeFolder}

Version: 1.0.0

Text Domain: {theme_slug}-child

*/

/* ========== CHILD THEME CUSTOMIZATIONS ========== */

/* $cursor-safe-zone (è‡ªåŠ¨æ›´æ–°ä¿æŠ¤åŒº) */

functions.php: |

<?php

// ==== å®‰å…¨åŠ è½½çˆ¶ä¸»é¢˜ ====

add_action('wp_enqueue_scripts', '{theme_slug}_load_parent_styles', 100);

function {theme_slug}_load_parent_styles() {

$parent_style = 'parent-style';

$parent_version = wp_get_theme()->parent()->get('Version');

// æ ¸å¿ƒåŠ è½½é€»è¾‘ wp_enqueue_style($parent_style, get_template_directory_uri() . '/style.css', array(), $parent_version ); // è‡ªåŠ¨åˆ›å»ºå­ä¸»é¢˜æ ·å¼ä¾èµ–é“¾ wp_enqueue_style('child-style', get_stylesheet_uri(), array($parent_style), // æ˜¾å¼ä¾èµ–çˆ¶æ ·å¼ wp_get_theme()->get('Version') ); 

}

// ==== æ–°å¢åŠŸèƒ½åŒº ====

/* $cursor-editable-region */

## ğŸ›¡ï¸ AI è¡Œä¸ºçº¦æŸå¼•æ“ 

logic

BEFORE CODING:

è‡ªåŠ¨æ‰«æçˆ¶ä¸»é¢˜ç‰ˆæœ¬ (é€šè¿‡ style.css)

æ£€æŸ¥ç›®æ ‡æ–‡ä»¶æ˜¯å¦å·²å­˜åœ¨è¦†ç›–æ ‡è®°

DURING CODING:

PHPè¦†ç›–æ–‡ä»¶å¿…é¡»æ·»åŠ :

/**

OVERRIDE PROTECTION v3

åŸå§‹æ–‡ä»¶: {parent_file_path}

ä¿®æ”¹æ‘˜è¦: {ç”¨æˆ·æè¿°}

çˆ¶ä¸»é¢˜ç‰ˆæœ¬å…¼å®¹æ€§: {parent_version}+

*/

è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£æµ‹è¯•ç”¨ä¾‹:

AFTER CODING:

è‡ªåŠ¨æ·»åŠ å¤šæµè§ˆå™¨æµ‹è¯•æç¤º:

## ğŸ’ æœ€ä½³å®è·µå¢å¼ºå™¨ ### CSS ä¼˜åŒ–ä½“ç³» 

scss

// å“åº”å¼è¦†ç›–ç³»ç»Ÿ (è‡ªåŠ¨ç”Ÿæˆ)

{parent_selector} {

--child-header-height: 100px; // ä½¿ç”¨CSSå˜é‡

@media (max-width: 768px) { --child-header-height: 80px; // ç§»åŠ¨ç«¯é€‚é… } @media (max-width: 480px) { --child-header-height: 60px; } 

}

// ç¦æ­¢ç›´æ¥ä¿®æ”¹çˆ¶é€‰æ‹©å™¨

body .parent-selector {

/* $cursor-alert: ç›´æ¥ä¿®æ”¹çˆ¶é€‰æ‹©å™¨æœ‰é£é™©! */

}

### PHP é«˜çº§æ¨¡å¼ 

php

<?php

// æ™ºèƒ½è®¾ç½®é‡å†™ç³»ç»Ÿ

add_filter('theme_mod{option_name}', '{theme_slug}custom_override');

function {theme_slug}_custom_override($value) {

// è‡ªåŠ¨ç”Ÿæˆé˜²å¾¡æ€§ä»£ç 

$new_value = apply_filters('child_custom_value', null);

return new_value ?? value; // ç©ºå€¼åˆå¹¶ä¿æŠ¤

}

// è‡ªåŠ¨æ³¨å…¥ç¯å¢ƒæ£€æµ‹

if (!defined('CHILD_THEME_SAFE_MODE')) {

define('CHILD_THEME_SAFE_MODE', true);

add_action('admin_notices', function() {

echo '<div class="notice notice-success">

<p>å­ä¸»é¢˜å®‰å…¨æ¨¡å¼å·²æ¿€æ´» (v{child_version})</p>

</div>';

});

}

## ğŸ” è‡ªåŠ¨å®¡è®¡æ¨¡å— 

security

AUTO-CHECK:

[ç‰ˆæœ¬] éªŒè¯Template: æ˜¯å¦åŒ¹é…çˆ¶ä¸»é¢˜æ–‡ä»¶å¤¹

[å®‰å…¨] æ‰«ææœªè¿‡æ»¤çš„ _GET/_POST

[æ€§èƒ½] CSSæƒé‡æ£€æŸ¥ (!important è¶…3æ¬¡è­¦å‘Š)

[è§„èŒƒ] å‡½æ•°å‰ç¼€ä¸€è‡´æ€§ (>95%)

// å®¡è®¡å‘½ä»¤: @audit

REPORT:

æ ¸å¿ƒæ–‡ä»¶å®Œæ•´æ€§: 100%

å®‰å…¨é£é™©: 0

è§„èŒƒè¿å: 1 (å‰ç¼€ç¼ºå¤±)

## ğŸ§ª æ™ºèƒ½è°ƒè¯•ç³»ç»Ÿ 

php

// å¢å¼ºç‰ˆé”™è¯¯å¤„ç†

add_action('wp_footer', '{theme_slug}_debug_panel');

function {theme_slug}_debug_panel() {

if (WP_DEBUG && current_user_can('administrator')) {

echo '<div id="child-debug-panel">';

echo '<h4>å­ä¸»é¢˜è°ƒè¯•å™¨ (v{child_version})</h4>';

echo '<pre>è¦†ç›–æ–‡ä»¶æ•°: '.count(get_overridden_files()).'</pre>'; // è‡ªåŠ¨ç”Ÿæˆ

echo '</div>';

}

}


--- @config { "theme_slug": "auto_detect", "parent_selector": "auto_detect_header", "audit_level": "strict" } @version 3.0
